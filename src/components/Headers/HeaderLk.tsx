import type { NextPage } from "next";
import styles from "../../styles/Home.module.scss";
import { HeaderLkConnectButton } from "../CustomConnectButtons/HeaderLkConnectButton";
import Link from "next/link";
import { usePathname, useRouter } from "next/navigation";
import Burger from "./Burger";
import { useEffect, useState } from "react";

const Header: NextPage = () => {
  const [isOpen, setIsOpen] = useState(false);
  const router = useRouter();
  const pathname = usePathname();

  useEffect(() => {
    setIsOpen(false);
    const body = document.getElementsByTagName("body")[0];
    body.classList.remove("no-scroll");
  }, [pathname]);

  const handleBurgerBtn = () => {
    setIsOpen(!isOpen);
    const body = document.getElementsByTagName("body")[0];
    body.classList.toggle("no-scroll");
  };

  return (
    <header>
      <div className="d-flex align-items-center flex-nowrap justify-content-between">
        <span className="d-flex align-items-center">
          <svg
            width="104"
            height="30"
            viewBox="0 0 104 30"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M42.7168 20.4409C42.3895 20.8081 41.5663 21.3395 40.3194 21.3395C37.7199 21.3395 35.8376 19.6341 35.8376 16.4405C35.8376 13.4837 37.9606 11.4497 40.4831 11.4497C41.8166 11.4497 42.4039 11.7057 42.7168 11.9086V7.79712H45.3694V21.1994H42.7168V20.4457V20.4409ZM42.7168 17.745V14.6625C42.4039 14.276 41.9321 13.9282 41.0512 13.9282C39.6984 13.9282 38.5816 14.793 38.5816 16.4067C38.5816 18.0204 39.5492 18.8659 40.8875 18.8659C41.5807 18.8659 42.4039 18.4262 42.7168 17.745Z"
              fill="white"
            />
            <path
              d="M47.0684 12.9137C47.9638 11.9764 49.5188 11.4449 51.2566 11.4449C53.707 11.4449 55.1512 12.8944 55.1512 15.4115V21.1947H52.4986V20.3299C52.0943 20.8082 51.0881 21.301 49.9376 21.301C47.8338 21.301 46.4619 20.0738 46.4619 18.1799C46.4619 15.9768 48.5078 15.0395 50.78 15.0395C51.4395 15.0395 52.0991 15.1313 52.4986 15.2762C52.5179 14.3051 51.9883 13.9186 50.963 13.9186C49.9376 13.9186 49.3166 14.1409 48.3297 14.8366L47.0684 12.9089V12.9137ZM52.4986 17.9239V17.4842C52.205 17.3731 51.6032 17.2475 51.0544 17.2475C49.9953 17.2475 49.2058 17.4842 49.2058 18.1848C49.2058 18.6969 49.6824 19.0109 50.4864 19.0109C51.3818 19.0109 52.1857 18.5326 52.4986 17.9287V17.9239Z"
              fill="white"
            />
            <path
              d="M62.599 14.0008H68.5635V19.1945C67.3215 20.5715 65.4537 21.417 63.4077 21.417C59.3832 21.417 56.4755 18.7549 56.4755 14.7738C56.4755 11.1019 59.1473 8.13062 63.0948 8.13062C65.29 8.13062 67.3745 9.04858 68.2699 10.4449L66.3106 12.2083C65.5788 11.3821 64.5198 10.8845 63.2007 10.8845C60.8755 10.8845 59.4121 12.3533 59.4121 14.7738C59.4121 17.1943 61.097 18.6631 63.4173 18.6631C64.2598 18.6631 65.1552 18.4263 65.8292 17.9287V16.5711H62.5942V14.0008H62.599Z"
              fill="white"
            />
            <path
              d="M70.1761 12.9137C71.0716 11.9764 72.6265 11.4449 74.3643 11.4449C76.8147 11.4449 78.2589 12.8944 78.2589 15.4115V21.1947H75.6064V20.3299C75.202 20.8082 74.1959 21.301 73.0453 21.301C70.9416 21.301 69.5696 20.0738 69.5696 18.1799C69.5696 15.9768 71.6155 15.0395 73.8878 15.0395C74.5473 15.0395 75.2068 15.1313 75.6064 15.2762C75.6256 14.3051 75.0961 13.9186 74.0707 13.9186C73.0453 13.9186 72.4243 14.1409 71.4374 14.8366L70.1761 12.9089V12.9137ZM75.6064 17.9239V17.4842C75.3127 17.3731 74.711 17.2475 74.1622 17.2475C73.1031 17.2475 72.3136 17.4842 72.3136 18.1848C72.3136 18.6969 72.7902 19.0109 73.5941 19.0109C74.4895 19.0109 75.2935 18.5326 75.6064 17.9287V17.9239Z"
              fill="white"
            />
            <path
              d="M93.4033 21.1946H90.7507V15.595C90.7507 14.6771 90.5149 13.9427 89.5232 13.9427C88.9022 13.9427 88.2956 14.3099 87.949 15.0974V21.1898H85.2965V15.1505C85.2965 14.4355 84.8921 13.9379 84.1796 13.9379C83.3371 13.9379 82.7546 14.45 82.4947 15.1119V21.1898H79.8422V11.6429H82.4947V12.2855C83.005 11.7154 83.8859 11.4594 84.7813 11.4594C85.8597 11.4594 86.5722 11.7879 87.2317 12.4884C87.9442 11.7541 88.6229 11.4594 89.7205 11.4594C92.0794 11.4594 93.3985 12.6334 93.3985 14.8365V21.1898L93.4033 21.1946Z"
              fill="white"
            />
            <path
              d="M95.0163 12.9137C95.9117 11.9764 97.4666 11.4449 99.2045 11.4449C101.655 11.4449 103.099 12.8944 103.099 15.4115V21.1947H100.447V20.3299C100.042 20.8082 99.036 21.301 97.8855 21.301C95.7817 21.301 94.4097 20.0738 94.4097 18.1799C94.4097 15.9768 96.4557 15.0395 98.7279 15.0395C99.3874 15.0395 100.047 15.1313 100.447 15.2762C100.466 14.3051 99.9362 13.9186 98.9108 13.9186C97.8855 13.9186 97.2644 14.1409 96.2776 14.8366L95.0163 12.9089V12.9137ZM100.447 17.9239V17.4842C100.153 17.3731 99.5511 17.2475 99.0023 17.2475C97.9432 17.2475 97.1537 17.4842 97.1537 18.1848C97.1537 18.6969 97.6303 19.0109 98.4343 19.0109C99.3297 19.0109 100.134 18.5326 100.447 17.9287V17.9239Z"
              fill="white"
            />
            <path
              d="M22.3563 22.0637C22.3563 22.0637 10.1855 22.0637 9.04025 22.0637C8.88332 22.0637 8.77647 21.9268 8.82321 21.7899C10.3224 17.369 10.3224 12.6343 8.82321 8.21006C8.77647 8.07316 8.88665 7.93626 9.04359 7.93626H22.5099C22.6401 7.93626 22.7636 7.94294 22.8905 7.94628C20.9205 3.90272 16.8836 0.867554 10.1855 0.867554H0.789529C0.502373 0.867554 0.302032 1.14469 0.388846 1.41849C3.13018 10.2636 3.13018 19.7364 0.388846 28.5814C0.305371 28.8552 0.502373 29.1324 0.789529 29.1324C2.87976 29.1324 9.91174 29.1324 9.91174 29.1324C16.1958 29.1324 20.4397 26.2308 22.6234 22.057C22.5332 22.057 22.4498 22.0637 22.3596 22.0637H22.3563Z"
              fill="url(#paint0_linear_4116_1232)"
            />
            <path
              d="M30.4897 11.5324C29.4279 9.48229 27.2074 7.93298 23.5044 7.93298H22.88C22.9001 7.97639 22.9268 8.0198 22.9468 8.06321C23.9051 10.09 24.3525 12.3605 24.3525 14.6244C24.3525 17.2455 23.7949 19.7531 22.6864 21.9268C22.663 21.9702 22.6363 22.0136 22.6129 22.0604H23.3508C26.8234 22.0604 29.1607 20.5812 30.3427 18.4609C30.9505 17.3757 31.2543 16.1203 31.2543 14.8114C31.2543 13.6794 31.0106 12.5442 30.4863 11.5291L30.4897 11.5324Z"
              fill="url(#paint1_linear_4116_1232)"
            />
            <defs>
              <linearGradient
                id="paint0_linear_4116_1232"
                x1="12.6095"
                y1="10.9529"
                x2="29.5639"
                y2="11.5223"
                gradientUnits="userSpaceOnUse"
              >
                <stop stopColor="white" />
                <stop offset="0.466387" stopColor="#BEF2FF" />
                <stop offset="0.738234" stopColor="#36D9FF" />
                <stop offset="1" stopColor="#00CFFF" />
              </linearGradient>
              <linearGradient
                id="paint1_linear_4116_1232"
                x1="26.9336"
                y1="7.93298"
                x2="26.9336"
                y2="22.0604"
                gradientUnits="userSpaceOnUse"
              >
                <stop stopColor="#BCFFDD" />
                <stop offset="1" stopColor="#6AFFB3" />
              </linearGradient>
            </defs>
          </svg>
        </span>
        <nav className={styles.nav}>
          <Link
            href="/referal-program"
            className={
              pathname === "/referal-program" ? "header-active-link" : " "
            }
          >
            <p>referal program</p>
          </Link>
          <Link
            href="/dagama-nft"
            className={
              pathname === "/dagama-nft" || pathname === "/dagama-nft/mint-nft"
                ? "header-active-link"
                : " "
            }
          >
            <p>dagama NFT</p>
          </Link>
        </nav>
        <div className={styles.LkButton}>
          <HeaderLkConnectButton />
        </div>
        <div className={styles.burger} onClick={handleBurgerBtn}>
          <span></span>
          <span></span>
          <span></span>
        </div>
      </div>
      <div
        className={isOpen ? styles.core : styles.core + " " + styles.core_hide}
        onClick={handleBurgerBtn}
      ></div>
      <Burger isOpen={isOpen} />
    </header>
  );
};

export default Header;
